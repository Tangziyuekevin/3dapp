<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My 3DApp</title>
    <link rel="stylesheet" type="text/css" href="./asset/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="./asset/css/index.css"/>
    <link rel="stylesheet" type="text/css" href="./asset/css/font.css"/>
    <link rel="stylesheet" type="text/css" href="./asset/jquery/fancybox.css"/>
    <link rel="stylesheet" type="text/css" href="./asset/swiper/swiper.css"/>
    <link rel="stylesheet" type="text/css" href="./asset/x3dom/x3dom.css"/>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light navbar_coca_cola">
    <div class="logo">
        <a class="navbar-brand" href="#">
            <h1>1oca</h1>
            <h2>Cola</h2>
            <h3>Journey</h3>
            <p>Refreshing the world, one story at a time</p>
        </a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
                <a id="navHome" class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
                <a id="navAbout" class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
                <a id="navModel" class="nav-link" href="#">Model</a>
            </li>
            <li class="nav-item">
                <a class="nav-link contact" data-toggle="modal" data-target="#exampleModal" href="#">Contact</a>
            </li>
        </ul>
    </div>
</nav>

<div id="home" class="main_contents">
    <div id="main_3d_image">
        <div id="main_text" class="col-xs-12 col-sm-4">
            <div id="title_home"><h2>Coca Cola Great Britain</h2></div>
            <div id="subTitle_home"><h3>Founded in 1886 Dr John S Pemberton</h3></div>
            <div id="description_home"><p>The Coca Cola Company is the world's leading manufacturer, marketer and
                distributor of non-alcoholic beverage concentrates and syrups, and produces nearly 400 brands.</p></div>
        </div>
    </div>
    <div class="row" id="home1">
        <div class="col-sm-4">
            <div class="card img-narrow">
                <a href="./asset/img/coke.png" data-fancybox data-caption="My 3D Coke Can Render">
                    <img class="card-img-top img-fluid img-thumbnail" src="./asset/img/coca_cola.jpg" alt="Coca Cola">
                </a>
                <div class="card-body">
                    <h4 class="card-title">Coca Cola</h4>
                    <h5 class="card-title">New York Harbour, 1886</h5>
                    <span class="description">
It was 1886, John Pemberton, an Atlanta pharmacist, was inspired by simple curiosity. One afternoon, he stirred up a fragrant, caramel-coloured liquid and, when it was done, the mixture was combined with carbonated water and sampled by customers who all agreed - this new drink was something special!
                    </span>
                    <div class="find-out">
                        <a href="http://www.coca-cola.co.uk/drinks/coca-cola/coca-cola"
                           class="btn btn-primary btn-responsive">Find out more ...</a>
                    </div>
                </div>

            </div>

        </div>
        <div class="col-sm-4">
            <div class="card img-narrow">
                <a href="./asset/img/pepper_3d.png" data-fancybox data-caption="My 3D Coke Can Render">
                    <img class="card-img-top img-fluid img-thumbnail" src="./asset/img/dr_pepper.jpg" alt="Coca Cola">
                </a>
                <div class="card-body">
                    <h4 class="card-title">Dr Pepper</h4>
                    <h5 class="card-title">Texas, 1885</h5>
                    <span class="description">
Dr Pepper's unique, sparkling blend of 23 fruit flavours has been around for well over a century and it's still the same, with that distinctive flavour you just can't quite put your tongue on. It was created by Texas pharmacist Charles Alderton in 1885. The distinctive, bold taste of Dr Pepper has been popular ever since.
                    </span>
                    <div class="find-out">
                        <a href="http://www.coca-cola.co.uk/drinks/dr-pepper/dr-pepper"
                           class="btn btn-primary btn-responsive">Find out more ...</a>
                    </div>
                </div>

            </div>

        </div>
        <div class="col-sm-4">
            <div class="card img-narrow">
                <a href="./asset/img/sprite_3d.png" data-fancybox data-caption="My 3D Coke Can Render">
                    <img class="card-img-top img-fluid img-thumbnail" src="./asset/img/sprite.jpg" alt="Coca Cola">
                </a>
                <div class="card-body">
                    <h4 class="card-title">Sprite</h4>
                    <h5 class="card-title">West Germany, 1959</h5>
                    <span class="description">
First introduced in 1961, crisp, refreshing, clean-tasting Sprite is now the world's leading lemon and lime flavoured soft drink and is sold in more than 190 different countries. Sprite Zero, part of our no sugar Zero range, offers the delicious lemon lime taste of Sprite without the sugar or calories.
                    </span>
                    <div class="find-out">
                        <a href="http://www.coca-cola.co.uk/drinks/sprite/sprite"
                           class="btn btn-primary btn-responsive">Find out more ...</a>
                    </div>
                </div>

            </div>

        </div>
    </div>

    <div class="col-sm-12" id="about1">
        <div class="card text-left">
            <div class="card-header gallery-header">
                <ul class="nav nav-tabs card-header-tabs">
                    <li class="nav-item gallery-a">
                        <a class="nav-link active" href="#">Gallery</a>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="card-title title_gallery drinksText"></div>
                <div class="swiper">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide"><img class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Coke.png"></div>
                        <div class="swiper-slide"><img class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Sprite.png"></div>
                        <div class="swiper-slide"><img style="height:318px;" class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Coke_Light.png"></div>
                        <div class="swiper-slide"><img class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Dr_Pepper.png"></div>
                        <div class="swiper-slide"><img class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Coke_Zero.png"></div>
                        <div class="swiper-slide"><img style="height:318px;" class="card-img-top img-thumbnail"
                                                       src="./asset/img/gallery/Fanta.jpg"></div>
                    </div>
                </div>
                <div class="card-text description_gallery drinksText"></div>
            </div>
        </div> <!-- End gallery card -->
    </div>
    <div class="row" id="model1">
        <div class="card text-left">
            <div class="card-header gallery-header">
                <ul class="nav nav-tabs card-header-tabs">
                    <li class="nav-item gallery-a">
                        <a class="nav-link active" href="#">Models</a>
                    </li>
                </ul>
            </div>
            <div class="card-body">
                <div class="model-title">Coca Cola X3D Model</div>
                <div class="card-title title_gallery drinksText">
                    <button type="button"  onclick="changeSwitch(0)" id="CokeSwitch" class="btn btn-success btn-responsive">Coke
                    </button>
                    <button type="button"   onclick="changeSwitch(1)" id="SpriteSwitch" class="btn btn-success btn-responsive">Sprite
                    </button>
                    <button type="button"  onclick="changeSwitch(2)" id="PepperSwitch" class="btn btn-success btn-responsive">Pepper
                    </button>
                </div>
                <iframe src="./asset/gl/gary_app.html" style="width: 100%;height: 400px;"></iframe>
<!--                <div class="model3D">-->
<!--                    <x3d width="100%" height="400px" id="wire">-->
<!--                        <scene>-->
<!--                            <appearance>-->
<!--                                <material diffuseColor="0.2 0.2 0.2"></material>-->
<!--                            </appearance>-->

<!--                            <Switch whichChoice="0" id='SceneSwitch'>-->
<!--                                <transform>-->
<!--                                    <inline nameSpaceName="model" mapDEFToID="true"-->
<!--                                            url="./asset/img/x3d/coke.x3d"></inline>-->
<!--                                </transform>-->
<!--                                <transform>-->
<!--                                    <inline nameSpaceName="model" mapDEFToID="true"-->
<!--                                            url="./asset/img/x3d/sprite.x3d"></inline>-->
<!--                                </transform>-->
<!--                                <transform>-->
<!--                                    <inline nameSpaceName="model" mapDEFToID="true"-->
<!--                                            url="./asset/img/x3d/pepper_animation.x3d"></inline>-->
<!--                                </transform>-->
<!--                            </Switch>-->
<!--                        </scene>-->
<!--                    </x3d>-->
<!--                </div>-->
                <div class="model-description">
                    This X3D model of the coke can has been created in 3ds Max, exported to VRML97 and converted, using the instantreality transcoders, to X3D for display online
                </div>
            </div>

        </div>
        <div id="interaction" class="row">
            <div class="col-sm-4">
                <div class="card text-left">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs">
                            <!-- Dropdown nav-tab -->
                            <li class="nav-item dropdown">
                                <div class="dropdown">
                                    <button class="btn btn-secondary dropdown-toggle bootstrap-dropdown" type="button" data-toggle="dropdown" aria-expanded="false">
                                        Cameras
                                    </button>
                                    <div class="dropdown-menu">
                                        <a class="dropdown-item" href="#" onclick="cameraFront();">Front</a>
                                        <a class="dropdown-item" href="#" onclick="cameraBack();">Back</a>
                                        <a class="dropdown-item" href="#" onclick="cameraLeft();">Left</a>
                                        <a class="dropdown-item" href="#" onclick="cameraRight();">Right</a>
                                        <a class="dropdown-item" href="#" onclick="cameraTop();">Top</a>
                                        <a class="dropdown-item" href="#" onclick="cameraBottom();">Bottom</a>
                                    </div>
                                </div>

                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="card-Title x3dCamera_Subtitle drinksText">
                            <h3>Camera Views</h3>
                        </div>
                        <a href="#" class="btn btn-success btn-responsive" onclick="cameraFront();">Default</a>
                        <a href="#" class="btn btn-primary btn-responsive CameraBack" onclick="cameraBack();">Back</a>
                        <a href="#" class="btn btn-secondary btn-responsive CameraLeft" onclick="cameraLeft();">Left</a>
                        <a href="#" class="btn btn-secondary btn-responsive CameraRight" onclick="cameraRight();">Right</a>
                        <div class="card-text x3dCameraDescription drinksText">
                            <p>These buttons select a limited range of X3D model viewpoints, use the dropdown menu for more
                                camera views</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Column for the animation controls -->
            <div class="col-sm-4">
                <div class="card text-left">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" href="#">Animation</a>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="card-Title x3dAnimationSubtitle drinksText">
                            <h3>Animation Options</h3>
                        </div>
                        <span class="btn btn-outline-light btn-responsive AnimationRotX" onclick="rotateX()">RotX</span>
                        <span class="btn btn-outline-light btn-responsive AnimationRotY">RotY</span>
                        <span class="btn btn-outline-light btn-responsive AnimationRotZ">RotZ</span>
                        <span class="btn btn-outline-dark btn-responsive AnimationRotStop" onclick="stopRatate()">Stop</span>
                        <div class="card-text x3dAnimationDescription drinksText">
                            <p>These buttons select a range of X3D animation options</p>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Column for the render type and lighting controls -->
            <div class="col-sm-4">
                <div class="card text-left">
                    <div class="card-header">
                        <ul class="nav nav-tabs card-header-tabs">
                            <li class="nav-item">
                                <a class="nav-link active" href="#">Render</a>
                                <div class="dropdown-menu">
                                    <a class="dropdown-item" href="#">Polygon</a>
                                    <a class="dropdown-item" href="#" onclick="wireFrame();">Wireframe</a>
                                    <a class="dropdown-item" href="#">Vertex</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="card-body">
                        <div class="card-Title x3dRendersubtitle drinksText">
                            <h3>Render and Lighting Options</h3>
                        </div>
                        <span  class="btn btn-secondary btn-responsive RenderWire" onclick="wireFrame();">Wire</span>
                        <span  class="btn btn-outline-dark btn-responsive RenderDefault">Default</span>
<!--                        <span class="btn btn-success btn-responsive" onclick="headLight();">Headlight</span>-->
<!--                        <span class="btn btn-outline-dark btn-responsive" onclick="defaultLight()">Default</span>-->
                        <div class="card-text x3dRenderDescription drinksText">
                            <p>These buttons select a limited number of render and lighting options; use the dropdown menus
                                for more options</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">3D App assignment</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                Email: zt83@sussex.ac.uk
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="./asset/jquery/jquery.js"></script>
<script type="text/javascript" src="./asset/popper.js"></script>
<script type="text/javascript" src="./asset/swiper/swiper.js"></script>
<script type="text/javascript" src="./asset/bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="./asset/jquery/fancybox.js"></script>
<script type="text/javascript" src="./asset/x3dom/x3dom.js"></script>

<script>
    var swip = () => {
        new Swiper('.swiper', {
            loop: true,
            slidesPerView: 'auto',
            // 自动播放
            autoplay: {
                delay: 2000, // 自动切换的时间间隔，单位为毫秒
                disableOnInteraction: false, // 用户操作后是否停止自动切换，默认为 true（停止）
            },
        });
    }
    $(function () {
        swip();
    })

    $("#navHome").click(function () {
        $(".nav-item").removeClass("active");
        $("#navHome").parent().addClass("active");
        $("#main_3d_image").show();
        $("#home1").show();
        $("#about1").hide();
        $("#model1").hide();
    })
    $("#navAbout").click(function () {
        $(".nav-item").removeClass("active");
        $("#navAbout").parent().addClass("active");
        $("#main_3d_image").show();
        $("#home1").hide();
        $("#model1").hide();
        $("#about1").show();
        swip();
    })
    $("#navModel").click(function () {
        $(".nav-item").removeClass("active");
        $("#navModel").parent().addClass("active");
        $("#main_3d_image").hide();
        $("#home1").hide();
        $("#model1").show();
        $("#about1").hide();
    })

    function changeSwitch(num){
        $('#SceneSwitch').attr('whichChoice', num);

        var data=getData();
        if(data[num]){
            $(".model-title").text(data[num].name)
            $(".model-description").text(data[num].description)
        }


    }
    function cameraFront()
    {
        $("#model__CameraFront").attr("bind","true");
    }

    function cameraBack()
    {
        $("#model__CameraBack").attr("bind","true");
    }

    function cameraLeft()
    {
        $("#model__CameraLeft").attr("bind","true");
    }

    function cameraRight()
    {
        $("#model__CameraRight").attr("bind","true");
    }

    function cameraTop()
    {
        $("#model__CameraTop").attr("bind","true");
    }

    function cameraBottom()
    {
        $("#model__CameraBottom").attr("bind","true");
    }
    var spinning = false;
    function rotateX()
    {
        spinning = !spinning;
        $('#model__RotationTimer').attr('enabled', spinning.toString());
    }
    function stopRatate(){
        spinning = false;
        $('#model__RotationTimer').attr('enabled', "false");
    }
    function wireFrame(){
        var e = document.getElementById('wire');
        e.runtime.togglePoints(true);
        e.runtime.togglePoints(true);
    }
    var lightOn = true;

    function headLight()
    {
        lightOn = !lightOn;
        document.getElementById('model__headlight').setAttribute('headlight', lightOn.toString());
        console.log(lightOn);
    }

    function defaultLight()
    {
        lightOn = !lightOn;
        document.getElementById('model__myLight').setAttribute('headlight', lightOn.toString());
    }
    function getData(){
        var data;
        $.ajax({
            type:"GET",
            url:"../server/index.php",
            async:false,
            success:function(msg){
                data=msg;
            },
            error:function(err){
                console.log("error")
                console.log(err)
            }
        })
        return data;
    }
</script>

</body>
</html>
